<!DOCTYPE html>
<html>

<head>
  <!--Change px to vh/vw maybe, combine similar css classes, maybe change top to a percentage, 
  make instructions page show up upon going into the website, maybe add mobile option, 
  maybe add tutorial, combine similar classes, add arrow to show which column the player is on, 
  make the instruction examples more hi-def, add button to see all questions, make stats page 
  better, make it so questions page x doesn't overlap with science questions, make questions
  in question page and out change when a category is one, make stats for specific categories-->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Mnemonicle - Daily trivia!</title>
  <link rel="icon" href="logo.png">
  <link href="allstyles.css" rel="stylesheet" type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <div id='all' class= 'disable-selection' style='left:20%;'>
    <h1 style="font-family: Impact">
      <center><b><span style='color:#aaffaa;font-size: 50px;-webkit-text-stroke: 1px black;'>Mn</span><span style='color:#bbffff;font-size: 50px;-webkit-text-stroke: 1px black;'>em</span><span style='color:#aaccff;font-size: 50px;-webkit-text-stroke: 1px black;'>oni</span><span style='color:#ddaaff;font-size: 50px;-webkit-text-stroke: 1px black;'>cle</span></b></center>
    </h1>
    <hr>
    <div class='hidden' id='trash'></div>
    <div class='buttons' id='buttons'>
      <button onclick='openInstructions()' id='instruction' class="dot" style="left:100px; top:0px; font-weight:bold;">?</button>
      <button onclick='openInformation()' id='information' class="dot" style="left:50px; top:0px; font-weight:bold;">i</button>
      <button onclick='openStats()' id='inspection' class="dot" style="left:0px; top:0px; font-weight:bold; font-size: 35px;"><img src='profits.png' style="height: 17px; width: 17px;"></img></button>
    </div>
    <h1 style="font-family: 'Trebuchet MS';" id='themeText'></h1>
    <div class='grid' id='grid'>
      <div class=questions id='sciq' style='color:#77cc77; left:340px; top:0px;'><span
        style="vertical-align:middle;"></span></div>
      <div class=questions id='hisq' style='color:#88cccc; left:340px; top:80px;'><span
        style="vertical-align:middle;"></span></div>
      <div class=questions id='culq' style='color:#7799cc; left:340px; top:160px;'><span
        style="vertical-align:middle;"></span></div>
      <div class=questions id='artq' style='color:#aa77cc; left:340px; top:240px;'><span
        style="vertical-align:middle;"></span></div>      
      <div class="blank" id='sci1' style="left:0px; top:0px; background-color:#aaffaa"></div>
      <div class="blank" id='his1' style="left:0px; top:80px; background-color:#bbffff"></div>
      <div class="blank" id='cul1' style="left:0px; top:160px; background-color:#aaccff"></div>
      <div class="blank" id='art1' style="left:0px; top:240px; background-color:#ddaaff"></div>

      <div class="blank" id='sci2' style="left:80px; top:0px;"></div>
      <div class="blank" id='his2' style="left:80px; top:80px;"></div>
      <div class="blank" id='cul2' style="left:80px; top:160px;"></div>
      <div class="blank" id='art2' style="left:80px; top:240px;"></div>

      <div class="blank" id='sci3' style="left:160px; top:0px;"></div>
      <div class="blank" id='his3' style="left:160px; top:80px;"></div>
      <div class="blank" id='cul3' style="left:160px; top:160px;"></div>
      <div class="blank" id='art3' style="left:160px; top:240px;"></div>

      <div class="blank" id='sci4' style="left:240px; top:0px;"></div>
      <div class="blank" id='his4' style="left:240px; top:80px;"></div>
      <div class="blank" id='cul4' style="left:240px; top:160px;"></div>
      <div class="blank" id='art4' style="left:240px; top:240px;"></div>      
    </div>

    <button id='resultsbutton' class='resultsbutton' style='top: 580px;' onclick="popup()">Results</button>
    <button id='questionsbutton' class='resultsbutton' style='visibility:visible; font-size:17px;' onclick="popupQuestions()">All Questions</button>

    <div id='endpage' class='end'>
      <b><font size=+3>Results</font><br></b>
      <button id='copier' class='copybutton' onclick="copy()">Copy Results</button>
      <button id='X_end' class='X X_end' onclick="XoutEnd()">x</button>
    </div>

    <div id='informationPage' class='informationPopup'>
      <b>
        <font size=+3>Information</font>
      </b><br><br>A mnemonic can be any kind of memory device, but a popular kind of mnemonic for learning a string of information is one where you create an acronym with the first letter of each piece of information.<br>
      <br>In this game, you will need to figure out a 'mnemonic' made up of random pieces of information taken from the following four categories of knowledge.<br>
      <ul>
        <li>Sci: Science (i.e., chemistry, biology, math, astronomy)</li>
        <li>His: History (i.e., geography, historical figures, major events)</li>
        <li>Cul: Culture (i.e., common knowledge, TV, sports, religion)</li>
        <li>Art: Arts and Literature (i.e., composers, painters, authors, philosophy)</li>
      </ul>
      <br>To support this website go to <a href='https://www.youtube.com/watch?v=dQw4w9WgXcQ' target=‚Äù_blank‚Äù>my patreon</a><br><br><br>Developed and created by Gabriel Antell-Proulx
      <button id='X_information' class='X X_information' onclick="Xout('informationPage', 'X_information')">x</button>
    </div>

    <div id='statsPage' class='statsPopup'><br/><b>Stats</b>
      <div id='averageScoreText' style='position:absolute; left:20px; top:60px; font-size: 20px;'>Average # of guesses
      </div>
      <div id='streakText' style='position:absolute; left:270px; top:63px; font-size: 20px'>Streak</div>
      <div id='averageScoreNumber' style='position:absolute; left:70px; top:100px; font-size: 50px; text-align:center;'>
      </div>
      <div id='streakNumber' style='position:absolute; left:285px; top:100px; font-size:50px;text-align:center;'></div>
      <button id='X_stats' class='X X_stats' onclick="Xout('statsPage', 'X_stats')">x</button>
    </div>

    <div id='instructionsPage' class='instructionsPopUp'><b>
      <div style="text-align: center;"><font size=+3>How to Play</font><br></b>
      <font size=+1>You have four tries to guess the Mnemonicle<ul></font></div>
      <li>Enter your guesses <b>vertically</b> into the colored squares in the grid (you do not need to guess real words)</li>
      <li>A theme will hint at what the finished Mnemonicle will be </li>
      <li>The letters associated with each row are the first letters of the answers to the trivia questions given on the right side of the grid</li>
      <li>If you get a letter correct, that row will turn green, and you will not be able to type anything into that row</li>
      <li>If you get a letter incorrect, the square will turn gray, and the associated trivia question will get easier (you can see all previous trivia questions by pressing the button at the bottom of the screen)</li>
      </ul>
    <img src='instructionsExamples.png' style='height:205px; width:450px; position:absolute; left:25px; top: 270px;'>
      <button id='X_instructions' class='X X_instructions' onclick="Xout('instructionsPage','X_instructions')" style='visibility: hidden;'>x</button>
    </div>
    
    <div id="questionPage" class="questionPagePopUp">
      <div id='questionPageSci' class="questionsPage questionsPageSci"><span style="text-align:center;"><b>Science Questions:</b></span></div>
      <div id='questionPageHis' class="questionsPage questionsPageHis"><span style="text-align:center;"><b>History Questions:</b></span></div>
      <div id='questionPageCul' class="questionsPage questionsPageCul"><span style="text-align:center;"><b>Culture Questions:</b></span></div>
      <div id='questionPageArt' class="questionsPage questionsPageArt"><span style="text-align:center;"><b>Art Questions:</b></span></div>
      <button id='X_questions' class='X X_questions' onclick="XoutQuestionsPage()">x</button>
    </div>

    <div id='copyscreen' class='copyscreen' style='visibility: hidden'>Copied results to clipboard!</div>

    <h1 id='mobilePage' style='visibility:hidden; color:white; font-family:"Trebuchet MS";'>
      <center>I am still working on coding mobile</center>
    </h1>
    </div>
  <script>
    /*if (window.matchMedia("(max-width: 767px)").matches) {
      document.getElementById('all').style.visibility = 'hidden';
      document.body.style.backgroundColor = "#111111";
      document.getElementById('mobilePage').style.visibility = 'visible';
      //mobile device
    }*/
    const puzzles = [
        {
          answers: ['F', 'E', 'T', 'A'],
          theme: "It's all Greek to me",
          fullanswers: ['<b>F</b>(orce)', '<b>E</b>thiopia', '<b>T</b>aylor Swift', 'Ansel <b>A</b>dams'],
          sciQuestions: ["Sci: Per Newton's second law, this quantity is equal to mass times acceleration.","Sci: This quantity's unit is the Newton.",'Sci: This quantity is described as an "influence tending to change the motion of a body or produce motion or stress in a stationary body."','Sci: Some examples of this include electromagnetism, the strong and weak nuclear interactions, and gravity.'],
          hisQuestions: ['His: Coffee was discovered in this country.','His: This nation uses a 13-month calendar with 12 months of 30 days each, and 5 or 6 epagomenal days which form an extra month.','His: Beyond Italian invasion in the late 1800s, this country has never truly been colonized.','His: The capital of this country is Addis Ababa.'],
          culQuestions:['Cul: In one popular song, this artist claims they are "always waiting for you to be waiting below." (First name)',"Cul: Some of this person's exes include John Mayer, Jake Gyllenhaal, and Calvin Harris. (First name)",'Cul: This singer wrote the songs "ME!" and "Anti-Hero." (First name)',"Cul: This artist's most popular songs are 'Blank Space' and 'Shake it off.' (First name)"],
          artQuestions:['Art: This man accepted a commission from Clark Kerr to produce a series of works depicting campuses of the University of California, which he titled Fiat Lux. (Surname)','Art: This person cofounded f/64 with other photographers. (Surname)','Art: This person took a photo of the Golden Gate before and after the bridge was built. (Surname)','Art: This person took many photos of Half-Dome, and the Western United States. (Surname)'],
          emoji: 'üßÄ'
        },
        {
          answers: ['S', 'P', 'Q', 'R'],
          theme: "Carpe diem",
          fullanswers: ['<b>S</b>', "<b>P</b>ontiac's war", '<b>Q</b>uarterback', '<b>R</b>aphael'],
          sciQuestions: ["Sci: This symbol marks the lowest possible orbital.","Sci: This is the abbreviation for the rather acrid element with the atomic number 16.",'Sci: In physics, this is the notation for both position and entropy.','Sci: An elongated one of these letters is the symbol for integration.'],
          hisQuestions: ["His: This war included Jeffrey Amherst's strategy of infesting blankets with smallpox and consisted largely of a siege of Fort Detroit.",'His: The person for whom this war was named after, was also the eponym of an bygone automobile brand made by General Motors.',"His: This war, broke out shortly after the issuance of a Royal Proclamation forbidding settlements west of the Appalachians.","His: This war, named for an Odawa chief, led the United Kingdom to recognize Indigenous autonomy."],
          culQuestions: ['Cul: The current Cardinals player with this title is Kyler Murray.','Cul: Some people who held this position include Joe Montana and Drew Brees.',"Cul: In a halfback option play the person with this position will run out of the backfield and become a receiving option for the running back.","Sci: This is the position of former football player Tom Brady as well as both Mannings."],
          artQuestions:['Art: This artist depicted a kneeling Saint Jerome and Mary Magdalene in his Mond Crucifixion.','Art: One of this artist‚Äôs paintings included the subjects of Aristotle, Archimedes, and Plato.','Art: This artist painted "Madonna of the Goldfinch" as well as "The School of Athens."', "Art: Along with Leonardo Da Vinci, Donatello, and Michelangelo, this artist is a namesake for a Teenage Mutant Ninja Turtle."],
          emoji: 'üèõ'
        },
        {
          answers: ['T', 'H', 'O', 'R'],
          theme: "Hammer time!",
          fullanswers: ['<b>T</b>(emperature)', '<b>H</b>aiti', "<b>O</b>ne Flew over the Cuckoo‚Äôs Nest", '<b>R</b>osencrantz and Guildenstern are Dead'],
          sciQuestions: ["Sci: It is the blank in the equation PV = nR_.","Sci: The lowest amount of this quantity possible is referred to as ‚Äòabsolute zero.‚Äô",'Sci: One of its units of measurement were named after the mathematician Lord Kelvin."','Sci: This quantity measures how hot or cold something is.'],
          hisQuestions: ['His: In the mid 1900s, this nation was ruled by Papa Doc, and later, Baby Doc.','His: The religion of voodoo, and the dolls associated with it was created here..',"His:  This Hispaniolan nation's first ruler was named Jean-Jaques Dessalines.",'His: This country, positioned next to the Dominican Republic in the Caribbean, has its capital at Port Au Prince.'],
          culQuestions:["Cul: This 1975 film starred Jack Nicholson (but it's not the Shining).","Cul: Cul: Most of this movie takes place in a mental hospital.","Cul: Main characters in this movie include Chief Bromden, Randle McMurphy, and Nurse Ratched.","Cul: This movie, about a man transferred for evaluation from a prison farm to a mental institution was based on a novel by Ken Kesey."],
          artQuestions:['Art: A flipped coin comes up heads a surprising number of times in this play.','Art: This play involves a performance of The Murder of Gonzago.','Art: Characters in this play, beyond the two title characters, include Hamlet, The Tragedians, and the Player.','Art: This Tom Stoppard play focused on the demise of two lesser-known Hamlet characters.'],
          emoji: '‚ö°'
        },
        {
          answers: ['A', 'C', 'M', 'E'],
          theme: "Cartoon co.",
          fullanswers: ['<b>A</b>ries', "<b>C</b>harlemagne I", "<b>M</b>*A*S*H", 'Duke <b>E</b>llington'],
          sciQuestions: ["Sci: This constellation has a connection to greek mythology, with some saying it is a representation of the golden animal that rescues Phrixus from danger.", "Sci: This constellation's brightest star is named Hamal, which comes from the Arabic word for 'lamb.'",'Sci: This zodiac constellation should appear between March 21 and April 19, though it really is out from around September to February.','Sci: This constellation appears in the shape of a ram.'],
          hisQuestions: ['His: Pope Leo III crowned this man on Christmas Day in the year 800.','His: He has been credited as the model for the King of Hearts on a standard deck of cards.','His: The son of this man was named Pepin le Bossu, and the musical named after him shows this person as a prominent character.','His: This Frankish king, sometimes called ‚Äúthe Great,‚Äù is usually credited as the first Holy Roman Emperor. '],
          culQuestions:["Cul: This 14 time emmy winner was mostly filmed in the late 1970s, 20 years after the event it depicts.","Cul: This TV show shares its name with a common middle school game played on paper, in which players try to see their futures","Cul: Some of this show's main characters included John McIntrye and Captain 'Hawkeye' Pierce.","Cul: This sitcom follows a certain American military unit during the Korean war, and shows how the soldiers use humor to cope with the horrors of war."],
          artQuestions:['Art: This man notably collaborated with Billy Strayhorn on "Satin Doll" and a song which instructs the listener "to go to Sugar Hill way up in Harlem.‚Äù (Surname)','Art: This musician, whose first name is also a royal title, wrote "It Dont Mean a Thing (If It Aint Got That Swing)". (Surname)','Art: This musician wrote the song "Take the "A" Train." (Surname)','Art: This jazz pianist performed with many other jazz players including Ella Fitzgerald and Louis Armstrong. (Surname)'],
          emoji: 'üß®'
        },
        {
          answers: ['T', 'W', 'I', 'X'],
          theme: "Subject of disagreement between rightists and leftists",
          fullanswers: ['<b>T</b>orque', "George <b>W</b>ashington", "<b>I</b>reland", '<b>X</b>ylophone'],
          sciQuestions: ["Sci: It is equal to the time derivative of angular momentum.","Sci: The net amount of this quantity sums to zero in any kind of statics problem.",'Sci: This quantity is defined as the cross product of a force and its lever arm.','Sci: This is known as the twisting force in physics.'],
          hisQuestions: ["His: The signing of Jay's Treaty and the Whiskey Rebellion occurred during this man's Presidency. (Surname)",'His: In one of his more famous addresses, he opposed the creation of political parties. (Surname)','His: Contrary to modern belief, his teeth were actually made from ivory and metal. (Surname)','His: This founding father decided to only run for two terms, leading his vice president, John Adams, to run for and become president. (Surname)'],
          culQuestions:["Cul: The name of this country in its native language 'Eire.'","Cul: This country's current president is quaintly named Michael D. Higgins.","Cul: A 1988 act forbids the unifying of this island country with its northern counterpart.","Cul: In a recent election, this country's D√°il √âireann met in Dublin to decide the nation's next prime minister."],
          artQuestions:['Art: The name of this instrument has greek roots, with its first half meaning "wood," and its second half meaning "sound."','Art: Instruments similar to this one include the glockenspiel, marimba and vibraphone.','Art: Camille Saint-Saens used this instrument to imitate the sounds of bones.','Art: The music from this instrument comes from a mallet hitting different sized wooden bars.'],
          emoji: 'üç´'
        },

        {
        answers: ['U', 'S', 'S', 'R'],
        theme: "Red giant",
        fullanswers: ['<b>U</b>ranium', '<b>S</b>tonewall', 'David <b>S</b>chwimmer', 'JK <b>R</b>owling'],
        sciQuestions: ["Sci: A form of radiometric dating named for this element and lead is based on its decay chain into lead-206.","Sci: This actinide element's has both a 235 and 238 isotope in yellowcake.",'Sci: This is the heaviest natural element.',"Sci: This element is often used for nuclear reactions, and was used in the Little Boy bomb."],
        hisQuestions: ['His: The Genovese crime family owned the central setting of an event with this name, where they blackmailed high-profile homosexuals.','His: A general with this nickname was shot in friendly fire after the battle of Chancelorville.','His: The 1969 riots by this name started at a certain New York City bar and began the American gay liberation movement.',"His: This was the nickname of General Thomas J. Jackson, who fought for the south in the U.S. Civil War."],
        culQuestions:[ "Cul: This actor portrayed O.J. Simpson's confidante Robert Kardashian in 'The People v. O.J. Simpson.' (Surname)","Cul: This actor starred in the movie 'Big Nothing,' where he played Charlie. (Surname)",'Cul: This actors most famous character has the timeless lines, "Unagi is a state of total awareness," and "WE WERE ON A BREAK!" (Surname)',"Cul: This actor played Ross Geller in 'Friends.' (Surname)"],
        artQuestions:["Art: This author's real first name is Joanne, but when writing books she shortens it to just two letters to appeal to a wider audience. (Surname)","Art: Her books included the characters of Kreature and Peeves. (Surname)",'Art: This person is the worlds richest author, with a net worth of over 2 billion dollars. (Surname)','Art: This woman wrote the book series "Harry Potter." (Surname)'],
        emoji: '‚ò≠'
        },
        {
        answers: ['C', 'A', 'T', 'S'],
        theme: "Demons posing as your friends",
        fullanswers: ['<b>C</b>opernicus', '<b>A</b>lexander the great', 'The <b>T</b>wilight Zone', 'The <b>S</b>carlet Letter'],
        sciQuestions: [
          "Sci: This Polish mathematician and astronomer's most famous work is 'De revolutionibus orbium coelestium.'",
          "Sci: This Renaissance-era scholar, often regarded as the father of modern astronomy, was also a trained physician and canon at the Cathedral of Frombork in Poland.",
          "Sci: This man's groundbreaking ideas about the universe were adopted by later astronomers like Kepler and Galileo.",
          "Sci: This 16th-century astronomer is best known for developing the heliocentric model of the solar system, challenging the long-standing geocentric model."
        ],
        hisQuestions: [
          "His: This figure, often considered one of history's most brilliant military tacticians, famously defeated Darius III at the Battle of Gaugamela.",
          "His: This king, known for spreading Greek culture across three continents, was tutored by the philosopher Aristotle.",
          "His: This king's conquest of Persia was one of his greatest achievements, and his death led to the division of his empire among his generals.",
          "His: This ancient Macedonian king created one of the largest empires in history, stretching from Greece to India."
        ],
        culQuestions:[
          'Cul: This iconic TV series is known for its opening narration, which begins with the phrase: "You unlock this door with the key of imagination."',
          "Cul: This anthology series, which ran from 1959 to 1964, was revived multiple times and is credited with influencing the sci-fi and horror genres.",
          'Cul: This groundbreaking TV show is known for episodes like "Nightmare at 20,000 Feet" and "The Monsters Are Due on Maple Street," which tackled themes of paranoia and societal fear.',
          "Cul: This classic TV series, hosted by Rod Serling, featured bizarre and eerie tales, often with a twist ending."
        ],
        artQuestions:[
          "Art: This novel's main character is unable to stand in the sun while in the forest with her daughter, Pearl.",
          'Art: This novel explores themes of guilt, punishment, and redemption, with the main character at the center of a love triangle involving Arthur Dimmesdale and Roger Chillingworth.',
          "Art: In this novel, 'A' stands for adultery.",
          'Art: This 1850 novel by Nathaniel Hawthorne is set in 17th-century Puritan New England and tells the story of Hester Prynne and her public shaming.'
        ],
        emoji: 'üêà'
      },
      {
        answers: ['W', 'I', 'N', 'E'],
        theme: "Symbol of revelry",
        fullanswers: ['<b>W</b>ater', '<b>I</b>nca Empire', "<b>N</b>ew York", '<b>E</b>lephants'],
        sciQuestions: [
          "Sci: This substance is split in a photolysis reaction.",
          "Sci: This substance's 'heavy' counterpart has the equation D2O.",
          "Sci: 84% of a science class voted to ban this substance when it was described as Dihydrogen Monoxide.",
          "Sci: When this substance is cooled to below 32 degrees farenheight, it freezes."
        ],
        hisQuestions: [
          "His: A civil war between Huascar and Atahualpa occurred just before the arrival of Francisco Pizzaro in this ancient nation.",
          "His: This culture used knotted strings called quipu for record-keeping.",
          "His: The capital city of this empire, famous for its terraced farming and the ruins of Machu Picchu, was Cusco.",
          "His: This ancient South American civilization, known for its vast network of roads and advanced engineering, was centered in present-day Peru."
        ],
        culQuestions:[
          'Cul: One major league team from this city plays at Citi field.',
          "Cul: A Jay-Z song about this city describes it as a ‚Äúconcrete jungle where dreams are made of.‚Äù",
          'Cul: This is the only city to have two teams in the NBA, NHL, NFL, and MLB.',
          'Cul: Movies that take place in this city include "Home Alone 2," "Elf," and "Miracle on 34th Street."'
        ],
        artQuestions:[
          "Art: In a Dali work they resemble the reflections of swans.",
          'Art: The title of a George Orwell novel describes "Shooting" one of these animals.',
          "Art: Political cartoonist Thomas Nast debuted one of these animals in an issue of Harper's Weekly after Ulysses S. Grant threatened to run for a third term",
          'Art: Some examples of this creature include Tantor in Tarzan and Horton in Horton Hears a Who.'
        ],
        emoji: 'üç∑'
      },
      {
        answers: ['G', 'O', 'L', 'F'], 
        theme: "Lets go clubbing!", 
        fullanswers: ['<b>G</b>alaxies', '<b>O</b>ttoman Empire', '<b>L</b>akers', '<b>F</b>rankenstein'], 
        sciQuestions: [ 
        "Sci: These massive things are classified into types such as spiral, elliptical, and irregular.", 
        "Sci: These entities can be described as gravitationally bound systems of dark matter, stars, and dust.",
        "Sci: The Andromeda is the nearest major one of these to our solar system.", 
        "Sci: The Milky Way is an example of this type of astronomical structure."
        ],
        hisQuestions: [ 
        "His: This empire was known for its elite military force called the Janissaries.", 
        "His: This empire, founded in 1299, reached its peak under Suleiman the Magnificent.", 
        "His: This empire lasted until the early 20th century and dissolved after World War I.",
        "His: This empire's capital was Constantinople, now known as Istanbul."
        ], 
        culQuestions:[ 
        'Cul: This team‚Äôs games are played at the Crypto.com Arena (formerly Staples Center).',
        'Cul: This team is known for its rivalry with the Boston Celtics.', 
        'Cul: This team‚Äôs roster has included players like Kobe Bryant, Shaquille O‚ÄôNeal, and LeBron James.', 
        'Cul: This NBA team, based in Los Angeles, has won 17 championships.' 
        ], 
        artQuestions:[ 
        "Art: In one part of this book, the title character flees to the Arctic.", 
        "Art: This novel was subtitled 'The Modern Prometheus.'", 
        "Art: This Mary Shelley novel explores themes of creation, responsibility, and the consequences of unchecked ambition.",
        "Art: This novel‚Äôs protagonist creates a living creature from dead body parts."
        ], 
        emoji: '‚õ≥'
        }
      ]
    const today = new Date();
    //change the start date, abc
    const startDate = new Date('2024-12-02T18:30:00-07:00');
    const number = 1 + Math.floor((today - startDate) / (1000 * 60 * 60 * 24));

    var avgScore = 0;
    var pageOpen = false;
    var streak = 0;
    let pastScore = [];
    let animationHappening = false;
    var animationIndex = 0;
    var copyresults = '';
    var endresults = '';
    var enter_keys_clicked = 0;
    var keys_clicked = 0;
    let won = [false, false, false, false];
    let testing = ['', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];
    let logger = ['sci1', 'his1', 'cul1', 'art1', '', 'sci2', 'his2', 'cul2', 'art2', '', 'sci3', 'his3', 'cul3', 'art3', '', 'sci4', 'his4', 'cul4', 'art4', ''];
    let logger_questions = ['sciq','hisq','culq','artq'];
    let logger_questionPages = ['questionPageSci', 'questionPageHis', 'questionPageCul', 'questionPageArt'];
    let question_levels = [0, 0, 0, 0];
    
    let alphabet = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
    let color_log = ['#aaffaa', '#bbffff', '#aaccff', '#ddaaff']
    let gameWon = false;

    function calculateAverage(array) {
      if (array != null) {
        const sum = array.reduce((acc, val) => acc + val, 0);
        return array.length ? sum / array.length : 0;
      }
      else {
        return 0;
      }
    }
    let currentPuzzle = puzzles[(number - 1) % puzzles.length];
    let currentAnswers = currentPuzzle.answers;
    let currentTheme = currentPuzzle.theme;
    let currentFullAnswers = currentPuzzle.fullanswers;
    let sciQuestions = currentPuzzle.sciQuestions;
    let hisQuestions = currentPuzzle.hisQuestions;
    let culQuestions = currentPuzzle.culQuestions;
    let artQuestions = currentPuzzle.artQuestions;
    let logger_prompts = [sciQuestions, hisQuestions, culQuestions, artQuestions];
    
    let currentEmoji = currentPuzzle.emoji;
    document.getElementById('themeText').innerHTML = "<center><b><span style='font-size: 30px'>Theme: " + currentTheme + "</span></b></center>";
    document.getElementById('sciq').innerHTML = sciQuestions[0];
    document.getElementById('hisq').innerHTML = hisQuestions[0];
    document.getElementById('culq').innerHTML = culQuestions[0];
    document.getElementById('artq').innerHTML = artQuestions[0];

    function saveState() {
      update = [];
      for (let i = 0; i < logger.length; i++) {
        if (logger[i] != '') {
          update.push(document.getElementById(logger[i]).innerHTML);
          update.push(document.getElementById(logger[i]).style.backgroundColor);
          update.push(document.getElementById(logger[i]).style.color);
        }
      }
      if ((won[0] && won[1] && won[2] && won[3]) || enter_keys_clicked >= 20) {
        var gameWon = true;
      }
      else {
        var gameWon = false;
      }
      update.push(gameWon);
      update.push(keys_clicked);
      update.push(enter_keys_clicked);
      update.push(number);
      update.push(document.getElementById('endpage').innerHTML);
      update.push(question_levels);
      update.push(won);
      localStorage.removeItem('update');
      localStorage.setItem('update', JSON.stringify(update));
    }
    function loadState() {
      k = 0;
      const gameStateString = localStorage.getItem('update');
      const gameState = JSON.parse(gameStateString);
      if (gameState == null) {
        saveState();
        const gameStateString = localStorage.getItem('update');
        const gameState = JSON.parse(gameStateString);
      }
      if (gameState[51] == number) {
        for (let i = 0; i < logger.length; i++) {
          if (logger[i] != '') {
            document.getElementById(logger[i]).innerHTML = gameState[k * 3];
            document.getElementById(logger[i]).style.backgroundColor = gameState[(k * 3) + 1];
            document.getElementById(logger[i]).style.color = gameState[(k * 3) + 2];
            k ++;
          }
        }
        keys_clicked = gameState[49];
        enter_keys_clicked = gameState[50];
        gameWon = gameState[48];
        won = gameState[54];
        for (caterpillar=0; caterpillar<4; caterpillar++){
          if (won[caterpillar]){
            document.getElementById(logger_questions[caterpillar]).innerHTML = "You got it!";
          }
          else{
            document.getElementById(logger_questions[caterpillar]).innerHTML = logger_prompts[caterpillar][gameState[53][caterpillar]];
          }
        }
        question_levels = gameState[53];
        for (b=0;b<4;b++){
          for (l=0; l<=question_levels[b];l++){
            document.getElementById(logger_questionPages[b]).innerHTML += "<li>" + logger_prompts[b][l].substr(4, logger_prompts[b][l].length) + "</li>";
          }
        }
        if (Boolean(gameWon)) {
          document.getElementById('resultsbutton').style.visibility = 'visible';
          document.getElementById('endpage').innerHTML = gameState[52];
          document.getElementById('copier').style.visibility = 'hidden';
          document.getElementById('X_end').style.visibility = 'hidden';
        }
      }
      else{
        for (x=0;x<=3;x++){
          document.getElementById(logger_questionPages[x]).innerHTML += "<li>" + logger_prompts[x][0].substr(4, logger_prompts[x][0].length) + "</li>";
        }
      }
    }
    loadState();

    stringPastScore = localStorage.getItem('score');
    pastScore = JSON.parse(stringPastScore);
    if (pastScore == "" || pastScore == null) {
      pastScore = [];
    }
    var avgScore = calculateAverage(pastScore);
    localStorage.setItem('score', JSON.stringify(pastScore));
    var stringStreakList = localStorage.getItem('streak');
    var streakList = JSON.parse(stringStreakList);
    if (streakList == "" || streakList == null) {
      streakList = [];
    }
    var streak = streakList.length;
    localStorage.setItem('streak', JSON.stringify(streakList));
    function popup() {
      if (document.getElementById('instructionsPage').style.visibility != 'visible' && document.getElementById('statsPage').style.visibility != 'visible' && document.getElementById('informationPage').style.visibility != 'visible' && document.getElementById('questionPage').style.visibility != 'visible') {
        pageOpen = true;
        document.getElementById('endpage').style.visibility = 'visible';
        document.getElementById('copier').style.visibility = 'visible';
        document.getElementById('X_end').style.visibility = 'visible';
      }
    }
    //work on this (question segments poping up)
    function popupQuestions() {
      if (document.getElementById('instructionsPage').style.visibility != 'visible' && document.getElementById('statsPage').style.visibility != 'visible' && document.getElementById('informationPage').style.visibility != 'visible' && document.getElementById('endpage').style.visibility != 'visible') {
        pageOpen = true;
        document.getElementById('questionPage').style.visibility = 'visible';
        document.getElementById('X_questions').style.visibility = 'visible';
        const subDivs = document.getElementById("questionPage").querySelectorAll("div");
        subDivs.forEach(subDiv => {
        subDiv.style.visibility = 'visible';
        });
      }
    }
    function XoutEnd() {
      pageOpen = false;
      document.getElementById('endpage').style.visibility = "hidden";
      document.getElementById('resultsbutton').style.visibility = 'visible';
      document.getElementById('copier').style.visibility = "hidden";
      document.getElementById('X_end').style.visibility = "hidden";
    }

    function XoutQuestionsPage() {
      pageOpen = false;
      document.getElementById('questionPage').style.visibility = 'hidden';
      document.getElementById('X_questions').style.visibility = 'hidden';
      const subDivs = document.getElementById("questionPage").querySelectorAll("div");
      subDivs.forEach(subDiv => {
        subDiv.style.visibility = 'hidden';
      });
    }

    function Xout(page, X){
      pageOpen = false;
      document.getElementById(page).style.visibility = 'hidden';
      document.getElementById(X).style.visibility = 'hidden'; 
    }

    function openInstructions() {
      if (document.getElementById('informationPage').style.visibility != 'visible' && document.getElementById('statsPage').style.visibility != 'visible' && document.getElementById('endpage').style.visibility != 'visible' && document.getElementById('questionPage').style.visibility != 'visible') {
        pageOpen = true;
        document.getElementById('instructionsPage').style.visibility = 'visible';
        document.getElementById('X_instructions').style.visibility = 'visible';
      }
    }

    function openInformation() {
      if (document.getElementById('instructionsPage').style.visibility != 'visible' && document.getElementById('statsPage').style.visibility != 'visible' && document.getElementById('endpage').style.visibility != 'visible' && document.getElementById('questionPage').style.visibility != 'visible') {
        pageOpen = true;
        document.getElementById('informationPage').style.visibility = 'visible';
        document.getElementById('X_information').style.visibility = 'visible';
      }
    }
    
    function openStats() {
      if (document.getElementById('instructionsPage').style.visibility != 'visible' && document.getElementById('informationPage').style.visibility != 'visible' && document.getElementById('endpage').style.visibility != 'visible' && document.getElementById('questionPage').style.visibility != 'visible') {
        pageOpen = true;
        var avgScore = Math.round(calculateAverage(pastScore) * 10) / 10;
        var streak = streakList.length;
        document.getElementById('streakNumber').innerHTML = streak;
        document.getElementById('averageScoreNumber').innerHTML = avgScore;
        document.getElementById('statsPage').style.visibility = 'visible';
        document.getElementById('X_stats').style.visibility = 'visible';
      }
    }
    


    document.body.addEventListener("keydown", function (eventb) {
      if (pageOpen == false && gameWon == false && animationHappening == false) {
        var letters_right = 0;
        for (let p = 0; p < 4; p++) {
          if (won[p]) {
            letters_right += 1;
          }
        }

        while (won[(keys_clicked % 5)]) {
          keys_clicked += 1;
        }
        for (let i = 65; i < 91; i++) {
          var f = keys_clicked + 1;
          if (eventb.keyCode == i && (f % 5) != 0) {
            document.getElementById(logger[keys_clicked]).innerHTML = String.fromCharCode(eventb.keyCode);
            document.getElementById(logger[keys_clicked]).style.border = '2.5px solid black';
            testing[keys_clicked] = String.fromCharCode(eventb.keyCode);
            keys_clicked += 1
          }
        }
        if (eventb.keyCode == 8 && (keys_clicked % 5) > 0) {
          var backspace = 0
          while (won[(keys_clicked - 1 + backspace) % 5]) {
            backspace -= 1
          }
          document.getElementById(logger[keys_clicked + backspace - 1]).innerHTML = '';
          document.getElementById(logger[keys_clicked + backspace - 1]).style.border = '1.5px solid black';
          keys_clicked += backspace - 1;
        }

        var f = keys_clicked + 1;
        var letters_right = 0;
        for (let p = 0; p < 4; p++) {
          if (won[p]) {
            letters_right += 1;
          }
        }
        if ((f % 5) % (5 - letters_right) == 0) {
          document.body.addEventListener("keydown", function (eventc) {
            if (eventc.keyCode == 13 && keys_clicked == (enter_keys_clicked + 4) && animationHappening == false) {
              let animationIndex = 0;
              //xyz
              function endAnimationFunction(){
                for (let i = 1; i < (4 - (enter_keys_clicked / 5)); i++) {
                  setTimeout(() => {
                    for (x=0;x<4;x++){
                      if (won[x]==false && i == 1){
                        if (keys_clicked < 18) {
                          document.getElementById(logger[enter_keys_clicked + x + 5]).style.backgroundColor = color_log[x];
                        }
                        question_levels[x]+=1;
                        document.getElementById(logger_questions[x]).innerHTML = logger_prompts[x][question_levels[x]];
                        document.getElementById(logger_questionPages[x]).innerHTML += "<li>" + logger_prompts[x][question_levels[x]].substr(4, logger_prompts[x][question_levels[x]].length) + "</li>"; 
                      }
                      else if (won[x]){
                        document.getElementById(logger_questions[x]).innerHTML = "You got it!";
                        document.getElementById(logger[enter_keys_clicked + x + (5 * i)]).style.backgroundColor = '#33A33C';
                        document.getElementById(logger[enter_keys_clicked + x + (5 * i)]).style.color = '#fff';
                        document.getElementById(logger[enter_keys_clicked + x + (5 * i)]).innerHTML = document.getElementById(logger[enter_keys_clicked + x]).innerHTML;
                      }
                      document.getElementById(logger[enter_keys_clicked+x]).style.border = '1.5px solid black';
                    }
                  }, i * 200);
                }
                setTimeout(() => {
                enter_keys_clicked += 5;
                keys_clicked += 1;
                saveState();
                if (won[0] && won[1] && won[2] && won[3]) {
                  win();
                }
                else if (enter_keys_clicked == 20) {
                  win();
                }
                animationHappening = false;
                document.body.removeEventListener("keydown", eventc);
                },800)
              }
              function checkIfRight(){
                if (document.getElementById(logger[enter_keys_clicked + animationIndex]).innerHTML == currentAnswers[animationIndex] && won[animationIndex] == false) {
                  document.getElementById(logger[enter_keys_clicked + animationIndex]).style.backgroundColor = '#33A33C';
                  document.getElementById(logger[enter_keys_clicked + animationIndex]).style.color = '#fff';
                  won[animationIndex] = true;
                }
                //check if answer is correct
                if (won[animationIndex] == false) {
                  document.getElementById(logger[enter_keys_clicked + animationIndex]).style.backgroundColor = '#636363';
                  document.getElementById(logger[enter_keys_clicked + animationIndex]).style.color = '#fff';                 
                }

              if (animationIndex <  3) {
                animationIndex++
                animateDiv(logger[enter_keys_clicked + animationIndex]);  // Animate the next div
              } 
              else {
                // All divs have been processed, call the end animation function
                endAnimationFunction();
              }
              }
              
              function animateDiv(divId){
                if (won[logger.indexOf(divId)%5]){
                  animationIndex++
                  if (animationIndex <  4) {
                    animateDiv(logger[enter_keys_clicked+animationIndex]);
                  }
                  else{
                    endAnimationFunction();
                  }
                }
                else{
                  if (document.getElementById(divId).innerHTML == currentAnswers[animationIndex]){
                    document.getElementById(divId).classList.add("animateCorrectLetter");  // Add animation class
                  }
                  else{
                    document.getElementById(divId).classList.add("animateIncorrectLetter");  // Add animation class
                  }
                  setTimeout(checkIfRight, 250); 
                }
              }
              
              //problem: the code below is called three times on the second answer
              animationHappening = true;
              animateDiv(logger[enter_keys_clicked]);
            }
          });
        }
      }
    });
    function win() {
      pastScore.push(enter_keys_clicked / 5);
      var avgScore = calculateAverage(pastScore);
      if (streakList[streakList.length - 1] != number - 1 && streakList[streakList.length - 1] != number) {
        streakList = [];
      }
      streakList.push(number);
      var streak = streakList.length;
      localStorage.setItem('streak', JSON.stringify(streakList));
      localStorage.setItem('score', JSON.stringify(pastScore));
      var endresults = "Mnemonicle #" + number
      if (won[0] && won[1] && won[2] && won[3]) {
        var endresults = endresults + '<br><br>You got the Mnemonicle in ' + (enter_keys_clicked / 5) + ' guess(es)!<br><br>';
      }
      else {
        var endresults = endresults + '<br><br>Maybe next time...<br><br>';
      }
      var endresults = endresults + currentEmoji + ' Theme: ' + currentAnswers[0] + currentAnswers[1] + currentAnswers[2] + currentAnswers[3] + ' ' + currentEmoji + '<br>' + currentAnswers[0] + ': ' + currentFullAnswers[0] + '<br>' + currentAnswers[1] + ': ' + currentFullAnswers[1] + '<br>' + currentAnswers[2] + ': ' + currentFullAnswers[2] + '<br>' + currentAnswers[3] + ': ' + currentFullAnswers[3] + '<br>' + '<br>';
      for (let i = 0; i < 4; i++) {
        for (let k = 0; k < 4; k++) {
          if (logger[(5 * k) + i] != '') {
            var endcolor = document.getElementById(logger[(5 * k) + i]);
            if (endcolor.style.backgroundColor == 'rgb(99, 99, 99)') {
              var endresults = endresults + '‚úñ';
            }
            if (endcolor.style.backgroundColor == 'rgb(51, 163, 60)') {
              var endresults = endresults + '‚úÖ';
            }
          }
        }
        endresults = endresults + '<br>'
      }
      document.getElementById('endpage').style.visibility = 'visible';
      document.getElementById('endpage').innerHTML = document.getElementById('endpage').innerHTML + '<br>' + endresults;
      document.getElementById('X_end').style.visibility = "visible";
      document.getElementById('copier').style.visibility = 'visible';
      document.getElementById('resultsbutton').style.visibility = 'visible';
      saveState();
    }
    function copy() {
      copyresults = '';
      for (let i = 0; i < 4; i++) {
        for (let k = 0; k < 4; k++) {
          if (logger[(5 * k) + i] != '') {
            var endcolor = document.getElementById(logger[(5 * k) + i]);
            if (endcolor.style.backgroundColor == 'rgb(99, 99, 99)') {
              var copyresults = copyresults + '‚úñ';
            }
            if (endcolor.style.backgroundColor == 'rgb(51, 163, 60)') {
              var copyresults = copyresults + '‚úÖ';
            }
          }
        }
        copyresults = copyresults + '\r\n'
      } var guesses = (enter_keys_clicked / 5);
      if (won[0] == false || won[1] == false || won[2] == false || won[3] == false) {
        guesses = 0;
      }
      var copyText = "Mnemonicle #" + number + "\r\n\r\n" + guesses + '/4' + "\r\n\r\n" + copyresults;
      navigator.clipboard.writeText(copyText);
      document.getElementById('copyscreen').style.visibility = 'visible';
      setTimeout(function () {
        document.getElementById('copyscreen').style.visibility = 'hidden';
      }, 1500);
    }
  </script>
</body>